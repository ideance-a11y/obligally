---
import Layout from '@layouts/Layout.astro'

import { initI18n, getLangFromUrl } from '@/assets/i18n/i18n.ts'

const lang = getLangFromUrl(Astro.url)
const t = await initI18n(lang)

export async function getStaticPaths() {
  return [{ params: { locale: 'en' } }, { params: { locale: 'fr' } }]
}

import PageContentFr from '@/components/page-content/visualisation.fr.astro'
import PageContentEn from '@/components/page-content/visualisation.en.astro'

const PageContent = lang === 'fr' ? PageContentFr : PageContentEn
---

<Layout
  lang={lang}
  pageTitle={t('visualiser.page_titre')}
>
  <div
    class="ice-header-page-details"
    slot="header"
  >
    <h1 class="ice-header-page-title">{t('visualisation.page_titre')}</h1>
    <div class="ice-header-page-subheading">
      <span
        class="ice-icon icon-diagram"
        aria-hidden="true"
      ></span>
      <p>Une infographie et une description détaillée.</p>
    </div>
  </div>

  <div class="ice-container">
    <PageContent />
  </div>
</Layout>
