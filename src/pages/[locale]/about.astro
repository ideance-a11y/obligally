---
import Layout from '@layouts/Layout.astro'

import { initI18n, getLangFromUrl } from '@/assets/i18n/i18n.ts'

const lang = getLangFromUrl(Astro.url)
const t = await initI18n(lang)

export async function getStaticPaths() {
  return [{ params: { locale: 'en' } }, { params: { locale: 'fr' } }]
}

import PageContentFr from '@/components/page-content/about.fr.astro'
import PageContentEn from '@/components/page-content/about.en.astro'

const PageContent = lang === 'fr' ? PageContentFr : PageContentEn
---

<Layout
  lang={lang}
  pageTitle={t('nav.about')}
>
  <h1 class="ice-page-title">{t('nav.about')}</h1>

  <div class="ice-section is-narrow with-typo-styles">
    <PageContent />
  </div>
</Layout>
