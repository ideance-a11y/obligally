---
import Layout from '@layouts/Layout.astro'

import ObligationsForm from '@/components/ObligationsForm.vue'

import { initI18n, getLangFromUrl } from '@/assets/i18n/i18n.ts'

const lang = getLangFromUrl(Astro.url)
const t = await initI18n(lang)

export async function getStaticPaths() {
  return [/*{ params: { locale: 'en' } },*/ { params: { locale: 'fr' } }]
}
---

<Layout
  lang={lang}
  pageTitle={t('nav.simulation')}
>
  <div slot="header">
    <div class="ice-header-page-details">
      <h1 class="ice-header-page-title">{t('nav.simulation')}</h1>
      <div class="ice-header-page-subheading">
        <span
          class="ice-icon icon-timer"
          aria-hidden="true"
        ></span>
        <p>{t('heading.simulation_subheading')}</p>
      </div>
    </div>
  </div>
  <ObligationsForm client:load />
</Layout>
